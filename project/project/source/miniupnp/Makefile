#SDK MAKEFILE 1.0
###########################################################################
DIR:=../..
OBJECT:=$(DIR)/lib/libminiupnp.a
SOURCES:=$(wildcard *.c)

DELETE:=$(patsubst %.c,%.o,$(SOURCES))
DELETE+=$(patsubst %.c,%.d,$(SOURCES))
###########################################################################
-include $(DIR)/Comdef

CC=$(CC_PLATFORM)gcc
###########################################################################
$(OBJECT):$(patsubst %.c,%.o,$(SOURCES))
	ar r $@ $^

%.d:%.c
	$(CC) -MM $(CXXFLAGS) $< > $@.$$$$; \
	sed 's,\($*\)\.o[ :]*,\1.o $@ : ,g' < $@.$$$$ > $@; \
	rm -f $@.$$$$

-include $(SOURCES:.c=.d)
###########################################################################
.PHONY:clean
clean:
	rm $(DELETE) -f
	rm $(OBJECT) -f
###########################################################################

override CXXFLAGS+=-g
###########################################################################
